네트워크 프로그래밍 기말과제 - 2389008 박소현 
2025.12.14

*프로젝트 개요

본 프로젝트는 TFTP클라이언트 코드로, Python의 소켓 API를 이용하여 구현되었으며, UDP 환경에서 데이터 전송의 신뢰성을 보장하기 위해 Stop-and-Wait 방식의 ARQ 알고리즘과 타임아웃/재전송 기법을 적용함

리눅스 환경의 TFTP 서버(tftpd-hpa)와 호환되며, 파일 다운로드(GET) 및 업로드(PUT) 기능을 지원함


*주요 기능 

1. 파일 전송 
- Get(다운로드): 서버로부터 파일을 다운로드. 로컬에 동일한 파일이 존재할 경우 덮어쓰기를 방지
- Put(업로드): 로컬 파일을 서버로 업로드. 서버에 동일한 파일이 존재할 경우 전송을 중단
- 모드 설정: 바이너리 데이터 전송을 위한 'octet' 모드만 지원

2. 연결 및 주소 처리
- 도메인 지원: IP 주소뿐만 아니라 도메인 네임(`genie.pcu.ac.kr`) 입력 시 DNS 조회를 통해 자동으로 IP로 변환
- 포트 설정: 기본 포트(69) 외에 `-p` 옵션을 통해 임의의 포트로 접속이 가능하게 함
- TID처리: 초기 요청(69번 포트) 이후, 서버가 할당한 새로운 포트(TID)로 세션을 유지

3. 예외처리
- Stop-and-Wait 방식의 ARQ: 각 데이터 블록 전송 후 ACK를 수신해야 다음 블록을 전송
- 타임아웃/ 재전송: 응답이 없을 경우 5초 대기 후 재전송하며, 최대 3회 시도 후 연결을 종료
- 에러 패킷 처리: 서버로부터 수신된 에러 코드('File not found', 'File already exists' 등)를 해석하여 사용자에게 알려줌


*실행 명령어

1. 203.250.133.88 서버에서 test.txt 파일 다운로드
    $ python3 mytftp.py 203.250.133.88 get test.txt
2. 203.250.133.88서버에서 2389008.txt 파일 업로드
    $ python3 mytftp.py 203.250.133.88 put 2389008.txt
3. 내 컴퓨터에 있는 tftp.txt파일을 203.250.133.88서버로 업로드
    $ python3 mytftp.py 203.250.133.88 -p 69 put tftp.txt
